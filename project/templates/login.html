{% extends "index.html" %}
{% block content %}

    <div class="col-md-8 mx-auto text-center">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }} text-danger" id="alert-success">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>

  <div class="container d-flex justify-content-center align-items-center" style="min-height: 100%;">
    <div class="card text-dark bg-light p-4" style="max-width: 25rem;">
      <div class="card-body">
        <form method="POST" action="">
          {{ form.hidden_tag() }}
          <h2 class="text-center mb-4">Log In</h2>
          <div class="form-group">
            {{ form.email.label(class="form-control-label") }}
            {% if form.email.errors %}
              {{ form.email(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.email.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.email(class="form-control form-control-lg") }}
            {% endif %}
          </div>
          <div class="form-group">
            {{ form.password.label(class="form-control-label") }}
            {% if form.password.errors %}
              {{ form.password(class="form-control form-control-lg is-invalid") }}
              <div class="invalid-feedback">
                {% for error in form.password.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.password(class="form-control form-control-lg") }}
            {% endif %}
          </div>
          <div class="form-check mb-3">
            {{ form.remember(class="form-check-input") }}
            {{ form.remember.label(class="form-check-label") }}
          </div>
          <div class="form-group">
            {{ form.submit(class="btn btn-primary btn-block") }}
          </div>
        </form>
        <div class="text-center">
          <small class="text-muted">
            <a href={{url_for('admins.reset_password')}}>Forgot Password?</a>
            <span class="mx-2"></span>
            Don't have an account?
            <a href="{{ url_for('admins.register') }}">Create one</a>
          </small>
        </div>
      </div>
    </div>
  </div>
  
{% endblock content %}
